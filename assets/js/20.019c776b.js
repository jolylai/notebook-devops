(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{198:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器","aria-hidden":"true"}},[s._v("#")]),s._v(" 服务器")]),s._v(" "),t("p",[s._v("自动部署项目到自己的服务器")]),s._v(" "),t("h2",{attrs:{id:"配置服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置服务器","aria-hidden":"true"}},[s._v("#")]),s._v(" 配置服务器")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装ruby")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ruby\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里请翻墙一下")]),s._v("\n$ gem update --system\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看版本号")]),s._v("\n$ gem -v\n2.6.3\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换镜像源")]),s._v("\n$ gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看是切换成功")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确保只有 gems.ruby-china.com")]),s._v("\n$ gem sources -l\nhttps://gems.ruby-china.com\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 travis")]),s._v("\n$ gem "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" travis\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("h2",{attrs:{id:"ssh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh","aria-hidden":"true"}},[s._v("#")]),s._v(" ssh")]),s._v(" "),t("p",[s._v("配置 ssh 登录服务器")]),s._v(" "),t("p",[s._v("如果还没有生成过秘钥可以使用以下命令生成秘钥，已生成过的可以使用已生成的")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 然后一路回车即可")]),s._v("\nssh-keygen -t rsa\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("执行完成后会生成两文件 "),t("code",[s._v("id_rsa")]),s._v("（私钥） id_rsa.pub（共玥）")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 key 复制到黏贴板")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Git Bash on Windows / Windows PowerShell")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.ssh/id_rsa.pub "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" clip\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# macOS")]),s._v("\npbcopy "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" ~/.ssh/id_rsa.pub\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Linux")]),s._v("\nxclip -sel clip "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" ~/.ssh/id_rsa.pub\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Windows")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("type")]),s._v(" %userprofile%\\.ssh\\id_rsa.pub "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" clip\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("使用以上命令复制共玥，然后登录自己的服务器后台，绑定密钥。")]),s._v(" "),t("p",[s._v("服务器配置完成后，测试写能否可以用 ssh 登录服务器")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ssh-copy-id 可能需要另行安装")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果ssh默认端口是22，则不需要 -p")]),s._v("\nssh-copy-id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("登录部署服务器用户名"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("部署服务器地址"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("部署服务器ssh端口"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试是否可以用ssh登录服务器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("登录部署服务器用户名"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("@"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("部署服务器地址"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("部署服务器ssh端口"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"加密私钥到-travis-环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#加密私钥到-travis-环境变量","aria-hidden":"true"}},[s._v("#")]),s._v(" 加密私钥到 travis 环境变量")]),s._v(" "),t("p",[s._v("切换目录到项目根路径下")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --auto自动登录github帐号")]),s._v("\n$ travis login --auto\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此处的--add参数表示自动添加脚本到.travis.yml文件中")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个命令会自动把 id_rsa 加密传送到 .git 指定的仓库对应的 travis 中去")]),s._v("\n$ travis encrypt-file ~/.ssh/id_rsa --add\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("br"),t("br"),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("addons")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ssh_known_hosts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 服务器地址\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("before_install")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" openssl aes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("256"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("cbc "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("K $encrypted_2a01126f8b17_key "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("iv $encrypted_2a01126f8b17_iv\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("in id_rsa.enc "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("out ~/.ssh/id_rsa "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("d\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 权限")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" chmod 600 ~/.ssh/id_rsa\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" echo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v('e "Host 106.12.140.131\\n\\tStrictHostKeyChecking no\\n" '),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(" ~/.ssh/config\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("因为 travis-ci 默认只添加了 github.com, gist.github.com 和 ssh.github.com 为 known_hosts，rsync 执行时会提示是否添加，但是 travis-ci 里不能输入确认，所以需要将自动服务器的域名和商品添加到 known_hosts")]),s._v(" "),t("div",{staticClass:"tip custom-block"},[t("p",[s._v("travis 自动生成的会有"),t("code",[s._v("\\")]),s._v("，需要自己删除")])]),s._v(" "),t("h2",{attrs:{id:"执行自己的服务器命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行自己的服务器命令","aria-hidden":"true"}},[s._v("#")]),s._v(" 执行自己的服务器命令")]),s._v(" "),t("h3",{attrs:{id:"上传文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上传文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 上传文件")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 没有修改过端口的，可以用这个，上传目录要加 -r 参数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" scp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("o stricthostkeychecking=no "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("r 要上传的文件或目录 用户@域名或IP"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/路径\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 由于我修改了默认的port，所以在这里也进行了加密处理")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" scp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("o stricthostkeychecking=no "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("P $PORT "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("r 要上传的文件或目录 用户@域名或IP"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/路径\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("最后，就是在 after_success 周期中，添加上传服务器的指令即可，在这里要注意，如果没有 stricthostkeychecking=no 参数，将构建失败，详细原因请参考通过 travis 部署代码到远程服务器")]),s._v(" "),t("h2",{attrs:{id:"完整的-travis-yml-文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#完整的-travis-yml-文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 完整的 "),t("code",[s._v(".travis.yml")]),s._v(" 文件")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("language")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node_js\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node_js")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("only")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" master\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("addons")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ssh_known_hosts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 106.12.140.131\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("install")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" yarn install\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("script")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" yarn run docs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("build\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("deploy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("provider")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" pages\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("skip-cleanup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("github-token")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$GITHUB_TOKEN"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("keep-history")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("local_dir")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" docs/.vuepress/dist\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branch")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" master\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("before_install")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" openssl aes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("256"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("cbc "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("K $encrypted_2a01126f8b17_key "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("iv $encrypted_2a01126f8b17_iv\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("in id_rsa.enc "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("out ~/.ssh/id_rsa "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("d\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" chmod 600 ~/.ssh/id_rsa\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" echo "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v('e "Host 106.12.140.131\\n\\tStrictHostKeyChecking no\\n" '),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(" ~/.ssh/config\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("after_success")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" scp "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("o stricthostkeychecking=no "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("r docs/.vuepress/dist root@106.12.140.131"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/root\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])])])},[],!1,null,null,null);a.default=e.exports}}]);